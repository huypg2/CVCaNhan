<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat App - Chi tiết dự án</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
</head>
<body>
    
    <header>
        <div class="container navbar">
            <a href="index.html" class="logo">Huy Pham.</a>
            <nav class="nav-links">
                <a href="index.html">Home</a>
                <a href="about.html">About</a>
                <a href="projects.html" class="active">Projects</a>
                <a href="contact.html">Contact</a>
            </nav>
        </div>
    </header>

    <main class="container" style="margin-top: 40px; margin-bottom: 80px;">
        <a href="projects.html" style="display: inline-block; margin-bottom: 20px; color: #666;">← Quay lại danh sách</a>
        
        <h1 style="font-size: 36px; margin-bottom: 10px;">Multi-room Chat Application</h1>
        <div style="color: #4e60ff; font-weight: 600; margin-bottom: 30px;">PYTHON • SOCKET • MULTI-THREADING</div>
        
        <img src="project1.jpg" alt="Project Banner" style="width: 100%; height: 400px; object-fit: cover; border-radius: 12px; margin-bottom: 40px;">

        <h2 class="section-title" style="text-align: left; margin-bottom: 20px; font-size: 24px;">1. Giới thiệu</h2>
        <p style="margin-bottom: 20px;">
            Đây là dự án xây dựng một hệ thống Chat LAN hoàn chỉnh sử dụng kiến trúc Client-Server. 
            Server có khả năng xử lý hàng trăm kết nối đồng thời nhờ sử dụng kỹ thuật <strong>Multi-threading (Đa luồng)</strong>.
        </p>

        <h2 class="section-title" style="text-align: left; margin-bottom: 20px; font-size: 24px;">2. Tính năng chính</h2>
        <ul style="margin-bottom: 30px; list-style-type: disc; padding-left: 20px;">
            <li>Kết nối nhiều Client cùng lúc (Concurrent Connections).</li>
            <li>Tạo phòng chat (Room) và tham gia phòng.</li>
            <li>Broadcast tin nhắn cho tất cả mọi người trong phòng.</li>
        </ul>

        <h2 class="section-title" style="text-align: left; margin-bottom: 20px; font-size: 24px;">3. Code Demo (Server Side)</h2>
        <pre><code class="language-python" style="border-radius: 8px;">
import socket
import threading

# Cấu hình Server
HOST = '127.0.0.1'
PORT = 55555

server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
server.bind((HOST, PORT))
server.listen()

clients = []
nicknames = []

def broadcast(message):
    for client in clients:
        client.send(message)

def handle(client):
    while True:
        try:
            message = client.recv(1024)
            broadcast(message)
        except:
            index = clients.index(client)
            clients.remove(client)
            client.close()
            break

def receive():
    while True:
        client, address = server.accept()
        print(f"Connected with {str(address)}")
        
        client.send('NICK'.encode('ascii'))
        nickname = client.recv(1024).decode('ascii')
        nicknames.append(nickname)
        clients.append(client)

        print(f"Nickname is {nickname}")
        broadcast(f"{nickname} joined!".encode('ascii'))
        client.send('Connected to server!'.encode('ascii'))

        thread = threading.Thread(target=handle, args=(client,))
        thread.start()

print("Server is listening...")
receive()
        </code></pre>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
</body>
</html>
